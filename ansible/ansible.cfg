[defaults]
inventory = inventory/hosts.yml
remote_user = ubuntu
private_key_file = ssh_key.pem
# БЕЗОПАСНОСТЬ: Включена проверка ключей хостов для предотвращения MITM атак
host_key_checking = True
timeout = 30
retry_files_enabled = False
stdout_callback = yaml
bin_ansible_callbacks = True
# Отключение логирования для задач с чувствительными данными
no_log = False
# Включение проверки фактов для безопасности
gathering = smart
fact_caching = memory

[ssh_connection]
pipelining = True
# БЕЗОПАСНОСТЬ: Включена строгая проверка SSH ключей
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts
# Дополнительные настройки безопасности SSH
control_path_dir = ~/.ansible/cp
control_path = %(directory)s/%%h-%%p-%%r

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False