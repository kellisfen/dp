# –û—Ç—á–µ—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Zabbix —Å–µ—Ä–≤–µ—Ä–∞

## üü¢ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°–µ—Ç–µ–≤–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Zabbix**: http://158.160.33.170/zabbix/ - –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ **MySQL —Å–µ—Ä–≤–µ—Ä**: –ø–æ—Ä—Ç 3306 –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ **Apache –≤–µ–±-—Å–µ—Ä–≤–µ—Ä**: —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç Zabbix

### IP –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤
- **–ë–∞—Å—Ç–∏–æ–Ω**: 158.160.99.254
- **Zabbix —Å–µ—Ä–≤–µ—Ä**: 158.160.33.170 (–≤–Ω–µ—à–Ω–∏–π), 10.0.1.7 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- **Kibana**: 158.160.33.170
- **Load Balancer**: 158.160.33.170

## üî¥ –ü—Ä–æ–±–ª–µ–º—ã

### SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- ‚ùå **SSH –∫ –±–∞—Å—Ç–∏–æ–Ω—É**: Connection refused / Permission denied
- ‚ùå **SSH –∫ Zabbix —Å–µ—Ä–≤–µ—Ä—É**: Connection closed immediately
- ‚ùå **SSH —á–µ—Ä–µ–∑ –±–∞—Å—Ç–∏–æ–Ω**: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä—è–º—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Zabbix
- ‚ùå **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î**: "Access denied for user 'zabbix'@'localhost'"
- ‚ùå **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 'zabbix' –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π

## üîß –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ü–†–ò–û–†–ò–¢–ï–¢)
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Zabbix:

```sql
mysql -u root -p
DROP USER IF EXISTS 'zabbix'@'localhost';
DROP DATABASE IF EXISTS zabbix;
CREATE DATABASE zabbix CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;
CREATE USER 'zabbix'@'localhost' IDENTIFIED BY 'SecureZabbixPassword123!';
GRANT ALL PRIVILEGES ON zabbix.* TO 'zabbix'@'localhost';
FLUSH PRIVILEGES;
```

–ó–∞—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É:
```bash
zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql -u zabbix -p'SecureZabbixPassword123!' zabbix
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Zabbix
–§–∞–π–ª `/etc/zabbix/zabbix_server.conf` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```
DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword=SecureZabbixPassword123!
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH –¥–æ—Å—Ç—É–ø–∞
–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º —Å SSH:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ SSH –∫–ª—é—á–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Security Groups –≤ Yandex Cloud
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è sshd –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö
- –§–∞–π—Ä–≤–æ–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## üìã –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–µ–±-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

- **URL**: http://158.160.33.170/zabbix/
- **Database type**: MySQL
- **Database host**: localhost
- **Database port**: 0 (default)
- **Database name**: zabbix
- **User**: zabbix
- **Password**: SecureZabbixPassword123!

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. **–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Zabbix –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å SSH –¥–æ—Å—Ç—É–ø–æ–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

## üìä –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [x] –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Zabbix
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH –¥–æ—Å—Ç—É–ø–∞
- [ ] –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Ansible